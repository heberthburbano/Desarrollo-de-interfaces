<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trello Colaborativo</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Pantalla de autenticaciÃ³n -->
    <div id="auth-container">
        <div class="auth-box">
            <h1>ğŸš€ Trello Colaborativo</h1>
            <div id="login-form">
                <h2>Iniciar SesiÃ³n</h2>
                <input type="email" id="login-email" placeholder="Correo electrÃ³nico">
                <input type="password" id="login-password" placeholder="ContraseÃ±a">
                <button id="login-btn">Iniciar SesiÃ³n</button>
                <p>Â¿No tienes cuenta? <a href="#" id="show-register">RegÃ­strate</a></p>
            </div>
            
            <div id="register-form" style="display: none;">
                <h2>Registrarse</h2>
                <input type="text" id="register-name" placeholder="Nombre completo">
                <input type="email" id="register-email" placeholder="Correo electrÃ³nico">
                <input type="password" id="register-password" placeholder="ContraseÃ±a">
                <button id="register-btn">Registrarse</button>
                <p>Â¿Ya tienes cuenta? <a href="#" id="show-login">Inicia sesiÃ³n</a></p>
            </div>
            
            <div id="auth-error" class="error-message"></div>
        </div>
    </div>

    <!-- AplicaciÃ³n principal -->
    <div id="app-container" style="display: none;">
        <header>
            <div class="header-content">
                <h1>ğŸ“‹ Trello Colaborativo</h1>
                <div class="user-info">
                    <span id="user-name"></span>
                    <button id="logout-btn">Cerrar SesiÃ³n</button>
                </div>
            </div>
        </header>

        <div class="boards-section">
            <div class="boards-header">
                <h2>Mis Tableros</h2>
                <button id="create-board-btn" class="btn-primary">+ Nuevo Tablero</button>
            </div>
            <div id="boards-container" class="boards-grid"></div>
        </div>

        <div id="board-view" style="display: none;">
            <div class="board-header">
                <h2 id="board-title"></h2>
                <div class="board-actions">
                    <button id="add-list-btn" class="btn-primary">+ AÃ±adir Lista</button>
                    <button id="back-to-boards-btn" class="btn-secondary">â† Volver</button>
                </div>
            </div>
            <div id="lists-container" class="lists-container"></div>
        </div>
    </div>

    <!-- Modal para crear tablero -->
    <div id="board-modal" class="modal">
        <div class="modal-content">
            <h3>Crear Nuevo Tablero</h3>
            <input type="text" id="board-name-input" placeholder="Nombre del tablero">
            <div class="modal-actions">
                <button id="save-board-btn" class="btn-primary">Crear</button>
                <button id="cancel-board-btn" class="btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal para crear lista -->
    <div id="list-modal" class="modal">
        <div class="modal-content">
            <h3>Crear Nueva Lista</h3>
            <input type="text" id="list-name-input" placeholder="Nombre de la lista">
            <div class="modal-actions">
                <button id="save-list-btn" class="btn-primary">Crear</button>
                <button id="cancel-list-btn" class="btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal para crear/editar tarjeta -->
    <div id="card-modal" class="modal">
        <div class="modal-content card-modal-content">
            <h3 id="card-modal-title">Nueva Tarjeta</h3>
            <input type="text" id="card-title-input" placeholder="TÃ­tulo de la tarjeta">
            <textarea id="card-description-input" placeholder="DescripciÃ³n (opcional)"></textarea>
            <input type="text" id="card-assigned-input" placeholder="Asignar a (opcional)">
            
            <div id="card-comments-section" style="display: none;">
                <h4>Comentarios</h4>
                <div id="comments-list"></div>
                <textarea id="comment-input" placeholder="AÃ±adir comentario..."></textarea>
                <button id="add-comment-btn" class="btn-secondary">Comentar</button>
            </div>
            
            <div class="modal-actions">
                <button id="save-card-btn" class="btn-primary">Guardar</button>
                <button id="delete-card-btn" class="btn-danger" style="display: none;">Eliminar</button>
                <button id="cancel-card-btn" class="btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Scripts de Firebase v9 Modular SDK -->
    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="auth.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
